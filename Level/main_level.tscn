[gd_scene load_steps=13 format=3 uid="uid://d28sbjt0i0qst"]

[ext_resource type="PackedScene" uid="uid://ddwtbnyshxxj3" path="res://Art_Assets/Levels/LevelGeometry.tscn" id="1_1wy1g"]
[ext_resource type="PackedScene" uid="uid://bk7vc4usjt3od" path="res://Player/player.tscn" id="1_7ireg"]
[ext_resource type="Script" uid="uid://bu07i0b06sujv" path="res://Game_Management/main_level.gd" id="1_romof"]
[ext_resource type="PackedScene" uid="uid://exdhmbr43ger" path="res://UI/UI.tscn" id="1_t065x"]
[ext_resource type="PackedScene" uid="uid://cwuhc7fibr0jj" path="res://UI/water_level_debug.tscn" id="2_hyf1s"]
[ext_resource type="Script" uid="uid://brrlrkleuxt1p" path="res://Game_Management/money.gd" id="3_8vdnm"]
[ext_resource type="Script" uid="uid://d0rpsw8qm8mxc" path="res://Level/water.gd" id="3_t065x"]
[ext_resource type="Material" uid="uid://cc3jyugw620gk" path="res://Art_Assets/Materials/WaterVertex.tres" id="3_vad1a"]
[ext_resource type="PackedScene" uid="uid://d04mojfecls7r" path="res://Objects/water_seller.tscn" id="8_cv6sc"]
[ext_resource type="PackedScene" uid="uid://hr021abwwm8b" path="res://Objects/pump.tscn" id="9_7gvd8"]

[sub_resource type="QuadMesh" id="QuadMesh_t065x"]

[sub_resource type="BoxShape3D" id="BoxShape3D_vad1a"]
size = Vector3(1000, 1, 1000)

[node name="MainLevel" type="Node3D"]
script = ExtResource("1_romof")

[node name="Water_Level_Debug" parent="." instance=ExtResource("2_hyf1s")]
mouse_filter = 2

[node name="Player" parent="." instance=ExtResource("1_7ireg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -12.0672)

[node name="Money" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("3_8vdnm")
starting_money = 100

[node name="UI" parent="." instance=ExtResource("1_t065x")]

[node name="Enviroment" type="Node" parent="."]

[node name="LevelGeometry" parent="Enviroment" instance=ExtResource("1_1wy1g")]

[node name="Water" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 68.218, -1, 171.569)
script = ExtResource("3_t065x")

[node name="WaterPlane" type="MeshInstance3D" parent="Water"]
transform = Transform3D(700, 0, 0, 0, -3.0598e-05, 1, 0, -700, -4.37114e-08, 0, 0, 0)
mesh = SubResource("QuadMesh_t065x")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("3_vad1a")

[node name="WaterTop" type="Area3D" parent="Water" groups=["Interactable"]]
collision_layer = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Water/WaterTop"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -52.3287, 0, 13.5603)
shape = SubResource("BoxShape3D_vad1a")
debug_color = Color(0, 0, 0, 1)

[node name="WaterFloat" type="Area3D" parent="Water"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
collision_layer = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="Water/WaterFloat"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -52.3287, 0, 13.5603)
shape = SubResource("BoxShape3D_vad1a")
debug_color = Color(0, 0, 0, 1)

[node name="WaterSeller" parent="." instance=ExtResource("8_cv6sc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.71387, 0, -17.2599)

[node name="Pump" parent="." instance=ExtResource("9_7gvd8")]
transform = Transform3D(-0.14104, 0, -0.990004, 0, 1, 0, 0.990004, 0, -0.14104, 13.8841, -0.581938, -2.15099)

[editable path="UI"]
